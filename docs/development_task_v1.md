# 🤖 AI-Agent友好型个人跨境电商独立站 - 开发任务书

**项目名称**: AI-Agent友好型Dropshipping独立站  
**预算**: ¥1000（基础设施费用）  
**交付时间**: 3周MVP  
**编制日期**: 2026年2月19日

---

## 📋 项目概述

### 核心需求
- **模式**: Dropshipping无货源跨境电商
- **特色**: AI-Agent友好，提供Agent可访问的购物接口
- **目标**: 让AI Agent能方便地在这个独立站上完成购物

### 预算分配（¥1000）
| 项目 | 预算 | 说明 |
|------|------|------|
| 域名 | ¥60/年 | .com/.shop |
| VPS服务器 | ¥200/年 | 阿里云/腾讯云轻量服务器 |
| AI API调用 | ¥400 | Claude/OpenAI/Gemini |
| 支付接口测试 | ¥100 | Stripe/PayPal测试费用 |
| 备用/其他 | ¥240 | SSL、CDN等 |

---

## 🏗️ 技术架构

### 系统架构图
```
┌─────────────────────────────────────────────────────────────┐
│                      用户层                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────┐          │
│  │ 人类用户 │  │ AI Agent │  │ 其他Agent服务    │          │
│  │ (浏览器) │  │ (直接API)│  │ (Perplexity等)   │          │
│  └────┬─────┘  └────┬─────┘  └────────┬─────────┘          │
└───────┼─────────────┼─────────────────┼────────────────────┘
        │             │                 │
        └─────────────┼─────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────┐
│                    API网关层                                 │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                  │
│  │ REST API │  │ MCP协议  │  │ Webhooks │                  │
│  │ (人类)   │  │ (Agent)  │  │ (供应商) │                  │
│  └──────────┘  └──────────┘  └──────────┘                  │
└─────────────────────┬───────────────────────────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────┐
│                   业务服务层                                 │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │ 商品服务 │  │ AI对话   │  │ 订单服务 │  │ 支付服务 │   │
│  │ 管理    │  │ 引擎     │  │         │  │         │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │ 供应商   │  │ 用户管理 │  │ 搜索推荐 │  │ 物流跟踪 │   │
│  │ 对接    │  │         │  │         │  │ (简化)  │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────┬───────────────────────────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────┐
│                   数据存储层                                 │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                  │
│  │PostgreSQL│  │ Redis    │  │ 对象存储 │                  │
│  │(主数据库)│  │(缓存)    │  │(图片)    │                  │
│  └──────────┘  └──────────┘  └──────────┘                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 👥 团队分工

### architect（架构师）
**职责**: 整体技术方案设计
**交付物**:
- [ ] 系统架构设计文档
- [ ] 数据库Schema设计
- [ ] API接口规范
- [ ] MCP协议实现方案

### dev（开发者）
**职责**: 核心功能开发
**交付物**:
- [ ] 后端API实现（Node.js/Fastify）
- [ ] 前端界面（Next.js）
- [ ] AI对话引擎集成
- [ ] 供应商对接模块

### ops（运维）
**职责**: 部署和基础设施
**交付物**:
- [ ] VPS环境配置
- [ ] CI/CD流程
- [ ] 监控告警
- [ ] 备份策略

### qa（测试）
**职责**: 测试验证
**交付物**:
- [ ] 测试用例
- [ ] API测试
- [ ] Agent兼容性测试
- [ ] 测试报告

---

## 🗓️ 开发计划（3周）

### Week 1: 基础架构 + 商品系统
**目标**: 搭建基础，实现商品管理

| 负责人 | 任务 | 交付时间 |
|--------|------|----------|
| architect | 完成架构设计文档 | Day 2 |
| ops | VPS环境搭建、域名配置 | Day 3 |
| dev | 数据库设计、商品管理API | Day 5 |
| dev | 前端商品展示页面 | Day 7 |

**Week 1 里程碑**: ✅ 商品可展示、管理

### Week 2: AI能力 + 购物流程
**目标**: AI导购、购物车、订单

| 负责人 | 任务 | 交付时间 |
|--------|------|----------|
| architect | MCP协议设计文档 | Day 8 |
| dev | AI对话引擎集成 | Day 10 |
| dev | MCP协议实现 | Day 12 |
| dev | 购物车、订单流程 | Day 14 |

**Week 2 里程碑**: ✅ AI可对话、MCP协议可用

### Week 3: 支付 + 供应商 + 上线
**目标**: 完成交易闭环，上线运行

| 负责人 | 任务 | 交付时间 |
|--------|------|----------|
| dev | 支付接口对接（Stripe） | Day 16 |
| dev | 供应商对接（选1-2家） | Day 18 |
| ops | 生产环境部署 | Day 19 |
| qa | 全流程测试 | Day 20 |
| dev | Bug修复、优化 | Day 21 |

**Week 3 里程碑**: ✅ 网站上线、可正常购物

---

## 🎯 MVP功能清单

### P0 - 核心功能（必须实现）
- [ ] **商品展示**
  - 商品列表、详情页
  - 商品分类、搜索
  - 图片展示
  
- [ ] **AI导购**
  - 自然语言商品搜索
  - AI对话推荐
  - 商品问答
  
- [ ] **MCP协议**
  - 商品查询接口
  - 下单接口
  - 订单查询接口
  
- [ ] **购物车/订单**
  - 加入购物车
  - 提交订单
  - 订单状态跟踪

### P1 - 重要功能（尽量实现）
- [ ] **支付集成**
  - Stripe支付
  - 支付状态回调
  
- [ ] **供应商对接**
  - 1-2家Dropshipping供应商API
  - 库存同步
  - 订单自动下发

### P2 - 增强功能（时间允许）
- [ ] 用户注册/登录
- [ ] 订单历史
- [ ] 简单的后台管理

---

## 🛠️ 技术栈

### 后端
- **框架**: Fastify (Node.js)
- **数据库**: PostgreSQL
- **缓存**: Redis
- **AI**: OpenAI API / Claude API
- **MCP**: 自研轻量实现

### 前端
- **框架**: Next.js 14
- **UI**: shadcn/ui + Tailwind
- **状态管理**: React Query

### 部署
- **服务器**: 阿里云/腾讯云轻量应用服务器
- **容器**: Docker + Docker Compose
- **域名**: Cloudflare DNS + SSL

---

## 📁 项目目录结构

```
ai-agent-commerce/
├── apps/
│   ├── web/                    # 前端Next.js
│   └── api/                    # 后端Fastify
├── packages/
│   ├── mcp-protocol/           # MCP协议实现
│   ├── ai-engine/              # AI对话引擎
│   └── shared/                 # 共享类型和工具
├── infrastructure/
│   ├── docker-compose.yml      # 本地开发环境
│   └── nginx.conf              # 生产环境配置
└── docs/
    ├── api/                    # API文档
    └── mcp/                    # MCP协议文档
```

---

## 📝 验收标准

### 功能验收
- [ ] 人类用户可以通过网站浏览商品、下单
- [ ] AI Agent可以通过MCP协议查询商品
- [ ] AI Agent可以通过自然语言完成购物流程
- [ ] 支付流程正常运行

### 非功能验收
- [ ] 页面加载时间 < 3秒
- [ ] API响应时间 < 500ms
- [ ] 支持并发10个用户
- [ ] 数据每天自动备份

---

## 🚀 启动准备

### 需要大哥提供的资源
- [ ] 域名（提供想要的域名，ops负责购买）
- [ ] 阿里云/腾讯云账号（用于购买VPS）
- [ ] Stripe账号（用于支付测试）

### 团队本周启动
- [ ] architect: 开始架构设计
- [ ] dev: 准备开发环境
- [ ] ops: 准备服务器采购清单

---

**任务书编制完成**: 2026-02-19  
**下一步**: 等待大哥确认后，团队立即启动开发
